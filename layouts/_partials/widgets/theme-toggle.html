{{- /*
  Dark Mode Theme Toggle
  
  Simple theme switcher that displays sun/moon icon based on current theme.
  
  Parameters:
    - page (required): Page context
    - site (required): Site context
    - class (optional): Additional CSS classes
    - key (optional): Config key for visibility (default: "showThemeToggle")
  
  Example:
    {{ partial "widgets/theme-toggle.html" (dict "page" . "site" .Site) }}
*/ -}}
{{- $page := .page }}
{{- $site := .site }}
{{- $key := .key | default "showThemeToggle" -}}
{{- $class := .class | default "" -}}

{{- $showThemeToggle := partial "config.html" (dict "site" $site "page" $page "key" $key) -}}

{{- if $showThemeToggle -}}
    {{- $iconSun := partialCached "widgets/icon.html" (dict "name" "sun" "style" "solid") "sun" "solid" -}}
    {{- $iconMoon := partialCached "widgets/icon.html" (dict "name" "moon" "style" "solid") "moon" "solid" -}}

    <span id="theme-toggle" class="theme-toggle" role="button" aria-label="Toggle dark mode" title="Toggle dark mode" tabindex="0">
    <span class="theme-icon theme-icon-light">{{ $iconSun }}</span>
    <span class="theme-icon theme-icon-dark">{{ $iconMoon }}</span>
    </span>
{{- end -}}