{{- /*
  Title Widget
  
  Displays a page or site title as an h1 element.
  
  Parameters:
    - page (required): Page context
    - site (required): Site context
    - title (optional): Override title text (default: page.Title)
    - class (optional): Additional CSS classes
    - key (optional): Config key for visibility (default: "showTitle")
  
  Example:
    {{ partial "widgets/title.html" (dict "site" .Site "page" . "title" .Site.Title "class" "main-title") }}
*/ -}}

{{- $titleFrom := .titleFrom | default "page" -}}
{{- $key := .key | default "Title" -}}
{{- $class := .class | default "" -}}

{{- $showTitle := partial "utils/config.html" (dict "key" (print "show" $key) "default" true) -}}

{{- $title := "" -}}
{{- if eq $titleFrom "site" -}}
    {{- $title = site.Title -}}
{{- else -}}
  {{- if eq $titleFrom "section" -}}
    {{- $title = printf "%s" (title page.Section) -}}
  {{- else -}}
    {{- $title = page.Title -}}
  {{- end -}}
{{- end -}}

{{- if $showTitle -}}
    <h1 class="title {{ $class }}">{{ $title }}</h1>
{{- end -}}