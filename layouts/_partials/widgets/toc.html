{{- $page := . -}}
{{- $title := "Table of Contents" -}}

{{- if reflect.IsMap . -}}
  {{- $page = .page | default . -}}
  {{- $title = .title | default "Table of Contents" -}}
{{- end -}}

{{- if and $page.TableOfContents (strings.Contains $page.TableOfContents "<li>") -}}
{{ partial "widgets/expand.html" (dict "title" $title "content" $page.TableOfContents "isHTML" true) }}
{{- end -}}
